{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "data": {
    "url": "https://raw.githubusercontent.com/wchaGit/FIT3179_Visualisation2/master/js/ne_110m.topojson",
    "format": {"type": "topojson", "feature": "ne_110m_admin_0_countries"}
  },
  "vconcat":
  [
      {
          "title": "Electricity Generated",
          "width": 800,
          "height": 400,
          "projection": {"type": "equalEarth"},
          "transform": [
              {
                  "lookup": "properties.NAME",
                  "from": {
                      "data": {
                          "url": "https://raw.githubusercontent.com/wchaGit/FIT3179_Visualisation2/master/data/generation.csv"
                      },
                      "key": "Area",
                      "fields": ["Value"]
                  }
              },
              {"calculate": "datum.Value + 1", "as": "Electricity"}
          ],
          "mark": {"type": "geoshape"},
          "encoding": {
              "color": {
                  "field": "Electricity",
                  "type": "quantitative",
                  "scale": {"type": "log"},
                  "title": "Electricity generated (TWh)"
              },
              "tooltip": [
                  {"field": "properties.NAME", "type": "nominal", "title": "Country"},
                  {"field": "Value", "type": "quantitative", "title": "Generated(TWh)"}
              ]
          }
      }
  ]
}